#!/usr/bin/env bash
# Convenience wrapper for docker compose with automatic env file
# Usage: ./dc ps
#        ./dc logs -f caddy
#        ./dc up -d

set -euo pipefail

ENV_FILE="$HOME/.datamancy/.env.runtime"

if [[ ! -f "$ENV_FILE" ]]; then
    echo "Error: $ENV_FILE not found"
    echo "Run: ./stack-controller.main.kts config generate"
    exit 1
fi

exec docker compose --env-file "$ENV_FILE" "$@"
