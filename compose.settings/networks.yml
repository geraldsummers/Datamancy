# Auto-generated by build-datamancy.main.kts
# Zero-trust network architecture - services only join networks they need

networks:
  # Internet-enabled network for services that need external connectivity
  internet:
    driver: bridge
    # No custom IPAM = Docker handles NAT automatically

  # Internal-only networks (no internet access)
  postgres:
    driver: bridge
    internal: true
    # PostgreSQL database access

  mariadb:
    driver: bridge
    internal: true
    # MariaDB database access

  clickhouse:
    driver: bridge
    internal: true
    # ClickHouse database access

  qdrant:
    driver: bridge
    internal: true
    # Qdrant vector database access

  valkey:
    driver: bridge
    internal: true
    # Valkey (Redis) access

  ldap:
    driver: bridge
    internal: true
    # LDAP directory access

  authelia:
    driver: bridge
    internal: true
    # Authelia SSO access

  mailserver:
    driver: bridge
    # Mail server access (needs SMTP federation)

  memcached:
    driver: bridge
    internal: true
    # Memcached access (Seafile)

  docker-proxy:
    driver: bridge
    internal: true
    # Docker socket proxy access

  caddy:
    driver: bridge
    # Caddy reverse proxy (needs Let's Encrypt, external web traffic)

  ai:
    driver: bridge
    internal: true
    # AI/LLM services

  litellm:
    driver: bridge
    internal: true
    # LiteLLM AI gateway access

  monitoring:
    driver: bridge
    internal: true
    # Prometheus, Node Exporter, cAdvisor metrics collection

  mastodon-internal:
    driver: bridge
    internal: true
    # Mastodon multi-container internal communication

  matrix-internal:
    driver: bridge
    internal: true
    # Matrix Synapse and Element communication