.:53 {
    # Wildcard DNS for BASE_DOMAIN pointing to Traefik (172.18.0.2)
    template IN A {
        match "^([a-z0-9-]+\.)*[a-z0-9-]+\.[a-z]+\.$"
        answer "{{ .Name }} 60 IN A 172.18.0.2"
        fallthrough
    }

    # Forward all other queries to upstream resolvers
    forward . 8.8.8.8 8.8.4.4 1.1.1.1

    # Enable query logging for debugging
    log

    # Enable error logging
    errors

    # Cache responses
    cache 30
}
