# Auto-generated by build-datamancy.main.kts
# Image versions are HARDCODED at build time
# Only secrets and deployment paths use runtime ${VARS}

services:
  dind:
    image: datamancy/dind-debian:local-build
    build:
      context: ./src/dind-debian
      dockerfile: Dockerfile
    container_name: dind
    restart: unless-stopped
    privileged: true
    networks:
      - docker-proxy
    environment:
      DOCKER_TLS_CERTDIR: ""
    volumes:
      - dind-storage:/var/lib/docker
      - dind-certs:/certs
    healthcheck:
      test: ["CMD", "docker", "info"]
      interval: 30s
      timeout: 10s
      retries: 3
      start_period: 20s
