# Ntfy Authentication Fix
# Replace configs/ntfy/server.yml with this

# Base URL for ntfy
base-url: http://ntfy:80

# Allow internal services to publish without authentication
# This is safe for internal Docker network
auth-default-access: write-only

# Alternative: If you want full authentication, use:
# auth-default-access: deny-all
# auth-file: /var/lib/ntfy/user.db
# Then create user: docker exec ntfy ntfy user add --role=admin ntfy_admin

# Behind reverse proxy
behind-proxy: true

# Cache settings
cache-file: /var/lib/ntfy/cache.db
cache-duration: 12h

# Attachment settings
attachment-cache-dir: /var/lib/ntfy/attachments
attachment-total-size-limit: 5G
attachment-file-size-limit: 15M

# Rate limiting (generous for internal use)
visitor-request-limit-burst: 120
visitor-request-limit-replenish: 10s

# Keepalive
keepalive-interval: 45s

# Web UI enabled
enable-login: false
enable-signup: false
