{
  /* SOGo Configuration for Authelia Forward-Auth Integration */

  /* Trust proxy authentication headers from Authelia via Caddy */
  SOGoTrustProxyAuthentication = YES;

  /* Disable login form - proxy auth only */
  SOGoDisableLogin = NO;

  /* Header name that Apache will pass (configured in init-apache.sh) */
  SOGoAuthProxyHeaderValue = "x-webobjects-remote-user";

  /* LDAP for contacts/calendar data only (OIDC handles authentication) */
  SOGoUserSources = (
    {
      type = ldap;
      CNFieldName = cn;
      UIDFieldName = uid;
      IDFieldName = mail;
      bindDN = "cn=admin,dc=stack,dc=local";
      bindPassword = "{{LDAP_ADMIN_PASSWORD}}";
      baseDN = "ou=users,dc=stack,dc=local";
      hostname = "ldap://ldap:389";
      canAuthenticate = NO;
      displayName = "LDAP Directory";
      id = ldap_directory;
      isAddressBook = YES;
      /* Mail configuration */
      mailFieldNames = (mail);
      /* IMAP - users will have their LDAP password via OIDC */
      IMAPHostFieldName = "";
    }
  );

  /* Mail server configuration */
  /* With OIDC, users authenticate and SOGo gets their LDAP password */
  /* SOGo will use user's actual password to access IMAP */
  SOGoIMAPServer = "mailserver:143/?tls=NO";

  /* IMAP authentication settings */
  SOGoIMAPAclConformsToIMAPExt = YES;
  SOGoForceIMAPLoginWithEmail = YES;

  /* Mail folders */
  SOGoSentFolderName = "Sent";
  SOGoDraftsFolderName = "Drafts";
  SOGoTrashFolderName = "Trash";
  SOGoJunkFolderName = "Junk";

  /* Sieve and SMTP */
  SOGoSieveServer = "sieve://mailserver:4190";
  SOGoSMTPServer = "mailserver:587";
  SOGoMailDomain = "{{MAIL_DOMAIN}}";
  SOGoForceExternalLoginWithEmail = YES;

  /* SMTP authentication */
  SOGoSMTPAuthenticationType = PLAIN;

  /* Worker configuration */
  WOWorkersCount = 3;

  /* Database for user profiles and preferences */
  SOGoProfileURL = "postgresql://sogo:{{STACK_ADMIN_PASSWORD}}@postgres:5432/sogo";
  OCSFolderInfoURL = "postgresql://sogo:{{STACK_ADMIN_PASSWORD}}@postgres:5432/sogo";
  OCSSessionsFolderURL = "postgresql://sogo:{{STACK_ADMIN_PASSWORD}}@postgres:5432/sogo";

  /* Memcached for sessions */
  SOGoMemcachedHost = "localhost";

  /* Time zone */
  SOGoTimeZone = "UTC";

  /* Web interface */
  SOGoLanguage = English;
  SOGoLoginModule = Mail;

  /* Sieve scripts */
  SOGoSieveScriptsEnabled = YES;
  SOGoVacationEnabled = YES;
  SOGoForwardEnabled = YES;
  SOGoSieveFolderEncoding = "UTF-8";
}
