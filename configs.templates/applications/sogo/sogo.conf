{
  /* SOGo Configuration for Authelia Forward-Auth Integration */

  /* Trust proxy authentication headers from Authelia via Caddy */
  SOGoTrustProxyAuthentication = YES;

  /* Keep login form enabled for fallback, but proxy auth takes precedence */
  SOGoDisableLogin = NO;

  /* Header name that Apache will pass (configured in init-apache.sh) */
  SOGoAuthProxyHeaderValue = "x-webobjects-remote-user";

  /* LDAP for user authentication and contacts/calendar data */
  SOGoUserSources = (
    {
      type = ldap;
      CNFieldName = cn;
      UIDFieldName = uid;
      IDFieldName = uid;
      bindDN = "cn=admin,dc=stack,dc=local";
      bindPassword = "{{LDAP_ADMIN_PASSWORD}}";
      baseDN = "ou=users,dc=stack,dc=local";
      hostname = "ldap://ldap:389";
      canAuthenticate = YES;
      displayName = "LDAP Users";
      id = ldap_auth;
      isAddressBook = YES;
      /* Mail field mapping for IMAP authentication */
      IMAPHostFieldName = "";
      IMAPLoginFieldName = "mail";
      /* Bind as user to verify password for IMAP */
      bindFields = (uid, mail);
    }
  );

  /* Mail server configuration */
  /* Use IMAP on port 143 with STARTTLS disabled (internal network) */
  SOGoIMAPServer = "imap://mailserver:143/?tls=NO";
  SOGoSieveServer = "sieve://mailserver:4190";
  SOGoSMTPServer = "mailserver:587";
  SOGoMailDomain = "{{MAIL_DOMAIN}}";
  SOGoForceExternalLoginWithEmail = YES;
  SOGoDraftsFolderName = "Drafts";
  SOGoSentFolderName = "Sent";
  SOGoTrashFolderName = "Trash";

  /* IMAP authentication */
  SOGoIMAPAclConformsToIMAPExt = YES;
  SOGoForceIMAPLoginWithEmail = YES;

  /* Dovecot master user configuration */
  /* SOGo will authenticate to IMAP using: user@domain*sogo-master with master password */
  /* This works with proxy auth where SOGo doesn't have the user's actual password */
  SOGoSuperUsername = "sogo-master";

  /* SMTP authentication */
  SOGoSMTPAuthenticationType = PLAIN;

  /* Worker configuration */
  WOWorkersCount = 3;

  /* Database for user profiles and preferences */
  SOGoProfileURL = "postgresql://sogo:{{STACK_ADMIN_PASSWORD}}@postgres:5432/sogo";
  OCSFolderInfoURL = "postgresql://sogo:{{STACK_ADMIN_PASSWORD}}@postgres:5432/sogo";
  OCSSessionsFolderURL = "postgresql://sogo:{{STACK_ADMIN_PASSWORD}}@postgres:5432/sogo";

  /* Memcached for sessions */
  SOGoMemcachedHost = "localhost";

  /* Time zone */
  SOGoTimeZone = "UTC";

  /* Web interface */
  SOGoLanguage = English;
  SOGoLoginModule = Mail;

  /* Sieve scripts */
  SOGoSieveScriptsEnabled = YES;
  SOGoVacationEnabled = YES;
  SOGoForwardEnabled = YES;
  SOGoSieveFolderEncoding = "UTF-8";
}
